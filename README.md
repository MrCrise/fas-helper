# ‚öñÔ∏è FAS-Helper: RAG System for Legal Documents

![Python](https://img.shields.io/badge/Python-3.11%2B-blue?logo=python)
![FastAPI](https://img.shields.io/badge/FastAPI-0.122%2B-009688?logo=fastapi)
![PostgreSQL](https://img.shields.io/badge/Postgres-18%2B-blue?logo=postgresql)
![Qdrant](https://img.shields.io/badge/Qdrant-grey?logo=qdrant)
![Ollama](https://img.shields.io/badge/LLM-Qwen_3_8B-black)
![Docker](https://img.shields.io/badge/Docker-Compose-2496ED?logo=docker)

**FAS-Helper** - —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∏—Å–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (—Ä–µ—à–µ–Ω–∏–π –§–ê–° –†–§).
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É **RAG (Retrieval-Augmented Generation)**, –ø–æ–∑–≤–æ–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∑–∞–¥–∞–≤–∞—Ç—å —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ –∏ –ø–æ–ª—É—á–∞—Ç—å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–µ–ª.

---

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **üîç –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Dense –∏ Sparse –≤–µ–∫—Ç–æ—Ä–æ–≤ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞.
*   **üéØ ColBERT Reranking:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Late Interaction –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–ª—è –ø–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
*   **üß† –õ–æ–∫–∞–ª—å–Ω—ã–π LLM:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é Qwen 3 (8B).
*   **üî∞ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —è–¥—Ä–æ:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –±—ç–∫–µ–Ω–¥ –Ω–∞ FastAPI + SQLAlchemy + AsyncQdrant.
*   **‚ö° Streaming API:** –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –æ—Ç–≤–µ—Ç–∞ LLM —Å–ª–æ–≤–æ –∑–∞ —Å–ª–æ–≤–æ–º (Server-Sent Events / NDJSON) –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª–∏–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
*   **üï∑Ô∏è –ü–∞—Ä—Å–µ—Ä:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –±–∞–∑—ã —Ä–µ—à–µ–Ω–∏–π —Å —Å–∞–π—Ç–∞ –§–ê–° (Selenium + Chrome).

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **LLM** | Ollama / Qwen 3:8b | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ |
| **Embeddings** | BAAI/bge-m3 | –ú—É–ª—å—Ç–∏–≤–µ–∫—Ç–æ—Ä–Ω–∞—è embedding –º–æ–¥–µ–ª—å |
| **Vector DB** | Qdrant | –•—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ |
| **Backend** | FastAPI | REST API, Streaming Response (SSE) |
| **Database** | PostgreSQL | –•—Ä–∞–Ω–µ–Ω–∏–µ —Å—ã—Ä—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –¥–µ–ª –∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ |
| **Parser** | Selenium | –û–±—Ö–æ–¥ –∑–∞—â–∏—Ç—ã –∏ —Å–∫—Ä–∞–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö |

---

## üñ•Ô∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–î–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è LLM –∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞) —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú–∏–Ω–∏–º—É–º | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
| :--- | :--- | :--- |
| **RAM** | 8 GB | 12+ GB |
| **CPU** | 4 Cores | 6+ Cores |
| **GPU** | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –Ω–∞ RTX 3070 (8 GB VRAM) | RTX 3070 (8 GB VRAM) –∏ –ª—É—á—à–µ |
| **Storage** | SSD 30 GB –ø–æ–¥ –æ–±—Ä–∞–∑—ã –∏ –≤–µ—Å–∞ –º–æ–¥–µ–ª–µ–π | SSD 30+ GB –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±—ä—ë–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö |

–í –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö —É–∫–∞–∑–∞–Ω—ã —Å–∞–º—ã–µ –Ω–∞–∏–º–µ–Ω—å—à–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞.
–ü–æ—ç—Ç–æ–º—É –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –≥–¥–µ-—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è —É–∂–∞—Ç—å –∏—Ö –µ—â—ë —Å–∏–ª—å–Ω–µ–µ.

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π **Docker** –∏ **Docker Compose**.

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/MrCrise/fas-helper.git
cd fas-helper
```

### 2. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –¥–æ–≤–æ–ª—å–Ω–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è, –ø–æ–∫–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –æ–±—Ä–∞–∑ –±—ç–∫–µ–Ω–¥–∞.
```bash
docker compose up -d --build
```

### 3. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ LLM
–ó–∞–≥—Ä—É–∂–∞–µ–º LLM –≤ Ollama (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–µ–ø–ª–æ–µ –ø—Ä–æ–µ–∫—Ç–∞).
```bash
docker exec -it fas_ollama ollama pull qwen3:8b
```

### 4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â –¥–∞–Ω–Ω—ã–º–∏
–ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞ –¥–ª—è —Å–±–æ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –±–∞–∑—ã –§–ê–°. –ù–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—Ä–µ–º—è.
```bash
docker exec -it fas_backend python ingest.py
```
–ë–∞–∑–æ–≤–æ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –¥–µ–ª–∞ —Å 50-—Ç–∏ —Å–∞–º—ã—Ö –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –∏–∑ –±–∞–∑—ã –§–ê–°. –ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –º–æ–∂–Ω–æ –ø–æ –ø—É—Ç–∏ `backend/ingest.py`, —Å—Ç—Ä–æ–∫–∞ `44`, –ø–∞—Ä–∞–º–µ—Ç—Ä `start_page`.

–í –±—É–¥—É—â–µ–º –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –∏/–∏–ª–∏ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞ —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

---

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –∞–¥—Ä–µ—Å–∞–º:
* **Frontend**: http://localhost:5000
* **Swagger Docs**: http://localhost:8000/docs
* **Qdrant UI**: http://localhost:6333/dashboard

`localhost` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

---

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏ –≤—Ç–æ—Ä–æ–≥–æ –∫—É—Ä—Å–∞ –ò–†–ò–¢-–†–¢–§ –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏ –ê–û ¬´–î–ò–ê–ô–ü–ò¬ª –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–Ω–æ–≥–æ –ø—Ä–∞–∫—Ç–∏–∫—É–º–∞.
